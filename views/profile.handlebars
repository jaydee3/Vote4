{{>navbar pageTitle="User Profile"}}
<div class="container">
	<div class="row justify-content-center mt-5">
		<h1>{{username}}</h1>
	</div>

	<div class="row justify-content-center mt-1">
		<p>--political alignment chart  to go here--</p>
	</div>

	<div class="row justify-content-center mt-1">
		<p>Profile</p>
		<br>
		<ul>
			<li>Real Name: {{account.name}} </li>
			<li>User Name: {{username}} </li>
			<li>Age: {{profile.age}} </li>
			<li>Gender: {{profile.gender}} </li>
			<li>Education: {{profile.education}} </li>
			<li>Married: {{profile.married}} </li>
			<li>City: {{region.city}} </li>
			<li>State: {{region.state}} </li>
		</ul>

		<div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
		  aria-hidden="true">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header text-center">
		        <h4 class="modal-title w-100 font-weight-bold">Edit Profile</h4>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body mx-3">
		         <form method="POST" action="/updateProfile">
					    <fieldset>
					      	<div class="form-group mt-1">

						      	<div class="form-group">
							        <label for="realname" class="sr-only">Real Name</label>
							        <input type="text" id="user_real_name" name="user_real_name" class="form-control" value="{{account.name}}"> real name
							     </div>

						        <div class="form-group">
						          	<label for="name" class="sr-only">User Name</label>
						          	<input type="text" id="user_name" name="user_name" class="form-control"  value="{{account.username}}" required> username
						        </div>

						        <div class="form-group">
						          	<label for="email" class="sr-only">Email address</label>
						          	<input type="email" id="user_email" name="user_email" class="form-control" value="{{account.email}}" required> email
						        </div>
						      	
								<div class="form-group">
						          	<label for="address" class="sr-only">City</label>
						          	<input type="text" id="user_city" name="user_city" class="form-control" value="{{region.city}}"> city
						        </div>

						        <div class="form-group">
						          	<select id="user_state_select" name=user_state> State
						          		{{#select region.state}}
										  <option value="AL">AL</option>
										  <option value="AK">AK</option>
										  <option value="AZ">AZ</option>
										  <option value="AR">AR</option>
										  <option value="CA">CA</option>
										  <option value="CO">CO</option>
										  <option value="CT">CT</option>
										  <option value="DE">DE</option>
										  <option value="FL">FL</option>
										  <option value="GA">GA</option>
										  <option value="HI">HI</option>
										  <option value="ID">ID</option>
										  <option value="IL">IL</option>
										  <option value="IN">IN</option>
										  <option value="IA">IA</option>
										  <option value="KS">KS</option>
										  <option value="KY">KY</option>
										  <option value="LA">LA</option>
										  <option value="ME">ME</option>
										  <option value="MD">MD</option>
										  <option value="MA">MA</option>
										  <option value="MI">MI</option>
										  <option value="MN">MN</option>
										  <option value="MS">MS</option>
										  <option value="MO">MO</option>
										  <option value="MT">MT</option>
										  <option value="NE">NE</option>
										  <option value="NV">NV</option>
										  <option value="NH">NH</option>
										  <option value="NJ">NJ</option>
										  <option value="NM">NM</option>
										  <option value="NY">NY</option>
										  <option value="NC">NC</option>
										  <option value="ND">ND</option>
										  <option value="OH">OH</option>
										  <option value="OK">OK</option>
										  <option value="OR">OR</option>
										  <option value="PA">PA</option>
										  <option value="RI">RI</option>
										  <option value="SC">SC</option>
										  <option value="SD">SD</option>
										  <option value="TN">TN</option>
										  <option value="TX">TX</option>
										  <option value="UT">UT</option>
										  <option value="VT">VT</option>
										  <option value="VA">VA</option>
										  <option value="WA">WA</option>
										  <option value="WV">WV</option>
										  <option value="WI">WI</option>
										  <option value="WY">WY</option>
										{{/select}}
									</select>
						        </div>

						        <div class="form-group">
					          		<select id="user_gender_select" name="user_gender"> Gender
					          		{{#select profile.gender}}
									  	<option value="F">F</option>
									  	<option value="M">M</option>
									  	<option value="NA">Other, N/A</option>
									  {{/select}}
									</select>
						        </div>	  

						        <div class="form-group">
					          		<select id="user_education_select" name="user_education"> Education Level
					          			{{#select profile.education}}
										<option value="Less than high school">Less than high school</option>
									  	<option value="High school diploma or equivalent">High school diploma or equivalent</option>
										<option value="Some college, no degree">Some college, no degree</option>
										<option value="Postsecondary non-degree award">Postsecondary non-degree award</option>
										<option value="Associate's degree">Associate's degree</option>
									  	<option value="Bachelor's degree">Bachelor's degree</option>
									  	<option value="Master's degree">Master's degree</option>
									  	<option value="Doctoral or professional degree">Doctoral or professional degree</option>
									  	{{/select}}
									</select>
						        </div>	  

							    <div class="form-group">
						          	<select id="user_maritalStatus_select" name="maritalStatus"> Marital Status
						          		{{#select profile.married}}
									  	<option value="Single">Single</option>
									 	<option value="Married">Married</option>
									    <option value="Divorced">Divorced</option>
									    <option value="Widowed">Widowed</option>
									    {{/select}}
									</select>
						        </div>

							    <input type="number" name="age" value="{{profile.age}}"> Age <br>
							   
							    <div class="form-group">
							        <button class="btn btn-lg btn-primary btn-block mt-2" id="update" type="submit">Save Changes</button>
							    </div>
					   		</div>
					    </fieldset>
					</form>
		      </div>
		    </div>
		  </div>
		</div>

		<div class="text-center">
		  <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal" data-target="#modalLoginForm">Edit Account</a>
		</div>
	</div>


    <div class="row justify-content-center mt-3">
  	  <h3>Political Survey</h3>
    </div>
    <div class="row justify-content-center mt-1">
		{{#if question}}
			<form action="/profile" method="POST">
				<fieldset>

					<input type = "hidden" name="qId" value="{{question.qId}}">
					{{question.question}}
					<br>
					<div class="form-group">
						<input type="radio" name="answer" value="0" required> Disagree
						<input type="radio" name="answer" value="1"> Neutral
						<input type="radio" name="answer" value="2"> Agree
					</div>
					<div class="form-group">
						<button class="btn btn-lg btn-primary btn-block" id="login" type="submit">Save</button>
					</div>
				</fieldset>
			</form>
		{{else}}
			<form action="/profile" method="POST">
				<fieldset>
					<p> Survey complete! Now you can check <a href="/match">your matches!</a></p>
					<input type="checkbox" name="retakecheck" id="retakecheck" value="yes" required> Click here to confirm you want to retake the survey<br>
					<div class="form-group">
						<button class="btn btn-lg btn-primary btn-block" id="retake" type="submit">Retake Survey</button>
					</div>
				</fieldset>
			</form>

		{{/if}}
	</div>
</div>

<script src="profilePage.js"></script>
